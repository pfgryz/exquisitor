{
% ===== BEGIN =====
% ----- -----
% COLORS
% ----- -----
\definecolor{Green}{HTML}{1dd1a1}   % Input
\definecolor{Blue}{HTML}{54a0ff}    % Linear
\definecolor{Yellow}{HTML}{feca57}  % Convolution
\definecolor{Purple}{HTML}{5f27cd}  % Batch Norm
\definecolor{Grey}{HTML}{576574}    % Dropout
\definecolor{Red}{HTML}{ff6b6b}     % Output
\definecolor{Pink}{HTML}{ff9ff3}    % Activation
\definecolor{Background}{HTML}{c8d6e5}

% ----- -----
% ELEMENTS
% ----- -----
\tikzstyle{box} = [rectangle, rounded corners, minimum width=5cm, minimum height=1cm, text centered, draw=black, align=center]
\tikzstyle{input} = [box, fill=Green!30]
\tikzstyle{linear} = [box, fill=Blue!30]
\tikzstyle{conv} = [box, fill=Yellow!30]
\tikzstyle{bn} = [box, fill=Purple!30]
\tikzstyle{activation} = [box, fill=Pink!30]
\tikzstyle{dropout} = [box, fill=Grey!30]
\tikzstyle{output} = [box, fill=Red!30]

\tikzstyle{arrow} = [very thick, -Triangle]
\tikzstyle{arrow:text} = [pos=0.5, right, font=\footnotesize]

% ----- -----
% PICTURE
% ----- -----
\begin{tikzpicture}[node distance=2cm]
    \node (input) [input] { Wejście };
    \node (conv1) [conv, below of=input] { Splot 1D \\ \textbf{16@1x16, krok: 4} };
    \node (bn1) [bn, below of=conv1] { Normalizacja wsadowa };
    \node (conv2) [conv, below of=bn1] { Splot 1D \\ \textbf{32@1x8} };
    \node (bn2) [bn, below of=conv2] { Normalizacja wsadowa };
    \node (flatten) [linear, below of=bn2] { Warstwa spłaszczająca };
    \node (flatten-right) [right of=flatten, xshift=2cm] {};
    
    \node (fc1-left) [right of=input, xshift=2cm] {};
    \node (fc1) [linear, right of=input, xshift=6cm] { Warstwa gęsta };
    \node (act1) [activation, below of=fc1] { Aktywacja \\ \textbf{GELU} };
    \node (drop1) [dropout, below of=act1] { Wyłączenie neuronów };
    \node (fc2) [linear, below of=drop1] { Warstwa gęsta };
    \node (act2) [activation, below of=fc2] { Aktywacja \\ \textbf{GELU} };
    \node (drop2) [dropout, below of=act2] { Wyłączenie neuronów };
    \node (fc3) [linear, below of=drop2] { Warstwa gęsta };
    \node (output) [output, below of=fc3] { Wyjście };

    \draw [arrow] (input) -- (conv1) node [arrow:text] {1x600};
    \draw [arrow] (conv1) -- (bn1) node [arrow:text] {16x147};
    \draw [arrow] (bn1) -- (conv2) node [arrow:text] {16x147};
    \draw [arrow] (conv2) -- (bn2) node [arrow:text] {32x140};
    \draw [arrow] (bn2) -- (flatten) node [arrow:text] {32x140};

    \draw [arrow] (flatten.east) -- (flatten-right) -- node [arrow:text] {1x4480} (fc1-left) -- (fc1.west);
    \draw [arrow] (fc1) -- (act1) node [arrow:text] {1x4096};
    \draw [arrow] (act1) -- (drop1) node [arrow:text] {1x4096};
    \draw [arrow] (drop1) -- (fc2) node [arrow:text] {1x4096};
    \draw [arrow] (fc2) -- (act2) node [arrow:text] {1x512};
    \draw [arrow] (act2) -- (drop2) node [arrow:text] {1x512};
    \draw [arrow] (drop2) -- (fc3) node [arrow:text] {1x512};
    \draw [arrow] (fc3) -- (output) node [arrow:text] {1x64};
\end{tikzpicture}

% ===== END =====
}